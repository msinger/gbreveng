<html>
<head>
<title>DMG-CPU SM83 Core Connections</title>
</head>
<body>
<p><a href="http://iceboy.a-singer.de/">Home</a></p>
<hr>
<h1>DMG-CPU SM83 Core Connections</h1>
<p>This is a list of all connections to/from the SM83 CPU core as seen in the
<a href="https://siliconpr0n.org/map/nintendo/dmg-cpu-b/">Gameboy DMG-CPU-B die shot</a>.
It builds on the work of Furrtek, the information found in his
<a href="https://github.com/furrtek/DMG-CPU-Inside">DMG-CPU-Inside</a> repository.</p>
<p>Please report any errors I made <a href="https://sourceforge.net/p/iceboy/tickets/">here</a>.</p>
<h2>SM83 "Pinout"</h2>
<p><img src="img/cells/cpu_desc.png"></p>
<h2>SM83 Connections</h2>
<p><table border="1"><tr>
<th colspan="2"><p>I/O</p></th>
<th><p>Label</p></th>
<th><p>Cell</p></th>
<th><p>Description</p></th>
</tr><tr>
<td><p>T1</p></td>
<td><p>O</p></td>
<td><p>FROM_CPU6</p></td>
<td><p>LEXY.in</p></td>
<td><p>The output of the inverter LEXY ends at an output pad at the bottom of the die, which is not bonded.</p></td>
</tr><tr>
<td><p>T2</p></td>
<td><p>I</p></td>
<td><p>TO_CPU</p></td>
<td><p>BOWA.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 or T14 low. This is the inverse of T3.</p></td>
</tr><tr>
<td><p>T3</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>BEDO.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 or T14 low. This is the inverse of T2.</p></td>
</tr><tr>
<td><p>T4</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>BEKO.q, BAVY.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 low. This is the inverse of T5.</p></td>
</tr><tr>
<td><p>T5</p></td>
<td><p>I</p></td>
<td><p>PHI_OUT</p></td>
<td><p>BUDE.q, BEVA.q</p></td>
<td><p>A gated 1 MiHz clock. This is the same clock that comes out of the PHI pin of the chip. The CPU can stop this clock by driving T11 low. This is the inverse of T4.</p></td>
</tr><tr>
<td><p>T6</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>BOLO.q, BYDA.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 low.</p></td>
</tr><tr>
<td><p>T7</p></td>
<td><p>O</p></td>
<td><p>FROM_CPU5</p></td>
<td><p>multiple</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p>T8</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>BUKE.q</p></td>
<td><p>A gated 4 MiHz clock. The CPU can stop this clock by driving T11 low.</p></td>
</tr><tr>
<td><p>T9</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>BOMA.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 or T14 low. This is the inverse of T10.</p></td>
</tr><tr>
<td><p>T10</p></td>
<td><p>I</p></td>
<td><p>BOGA1MHZ</p></td>
<td><p>BOGA.q</p></td>
<td><p>A gated 1 MiHz clock. The CPU can stop this clock by driving T11 or T14 low. This is the inverse of T9.</p></td>
</tr><tr>
<td><p>T11</p></td>
<td><p>O</p></td>
<td><p>CLK_FROM_CPU</p></td>
<td><p>ABOL.in, TUBO.in1</p></td>
<td><p>CPU can drive this low to disable all clocks fed to itself.</p></td>
</tr><tr>
<td><p>T12</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>AFER.q</p></td>
<td><p>Some type of reset input.</p></td>
</tr><tr>
<td><p>T13</p></td>
<td><p>I</p></td>
<td><p>RESET</p></td>
<td><p>RST (ext. pad)</p></td>
<td><p>Active-high reset input. Fed directly from RST input pad.</p></td>
</tr><tr>
<td><p>T14</p></td>
<td><p>?</p></td>
<td><p>CLKIN_A</p></td>
<td><p>multiple</p></td>
<td><p>Not sure if input or output. If it is an output and CPU drives it low, it would disable a few of the clocks fed to the CPU. This is also connected to an unknown I/O of the huge cell that implements the external XI/XO pins where the crystal gets connected. So, this signal could also disable the oscillator completely.</p></td>
</tr><tr>
<td><p>T15</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>TABA.q</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p>T16</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>(ext. pad)</p></td>
<td><p>Directly connected to an input pad at the top of the die, which is not bonded.</p></td>
</tr><tr>
<td><p>R1</p></td>
<td><p>O</p></td>
<td><p>CPU_RAW_RD</p></td>
<td><p>multiple</p></td>
<td><p>Active-high memory RD signal from CPU.</p></td>
</tr><tr>
<td><p>R2</p></td>
<td><p>O</p></td>
<td><p>FROM_CPU3</p></td>
<td><p>AREV.in2, LAGU.in3</p></td>
<td><p>Active-high memory WR signal from CPU.</p></td>
</tr><tr>
<td><p>R3</p></td>
<td><p>I</p></td>
<td><p>!T1_T2</p></td>
<td><p>UNOR.q</p></td>
<td><p>Maybe used to disable all bus drivers in the CPU when test mode is active.</p></td>
</tr><tr>
<td><p>R4</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>SYRO.q</p></td>
<td><p>High when address bus is 0xfexx or 0xffxx.</p></td>
</tr><tr>
<td><p>R5</p></td>
<td><p>I</p></td>
<td><p>-</p></td>
<td><p>TUTU.q</p></td>
<td><p>High when address bus is 0x00xx and boot ROM is still visible (*0xff50 == 0x00).</p></td>
</tr><tr>
<td><p>R6</p></td>
<td><p>I</p></td>
<td><p>T1_!T2</p></td>
<td><p>UMUT.q</p></td>
<td><p>Maybe used to disable all bus drivers in the CPU when test mode is active.</p></td>
</tr><tr>
<td><p>R7</p></td>
<td><p>O</p></td>
<td><p>FROM_CPU4</p></td>
<td><p>TEXO.in1, AGUT.in3</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p>R8</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R9</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R10</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R11</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R12</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R13</p></td>
<td><p>?</p></td>
<td><p>-</p></td>
<td><p>-</p></td>
<td><p>Not connected.</p></td>
</tr><tr>
<td><p>R14</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ0_ACK</p></td>
<td><p>LETY.in</p></td>
<td><p>Active-high. Acknowledges IRQ0 (V-Blank).</p></td>
</tr><tr>
<td><p>R15</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ0_TRIG</p></td>
<td><p>LOPE.q</p></td>
<td><p>Active-high. Triggers IRQ0 (V-Blank).</p></td>
</tr><tr>
<td><p>R16</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ1_ACK</p></td>
<td><p>LEJA.in</p></td>
<td><p>Active-high. Acknowledges IRQ1 (Status).</p></td>
</tr><tr>
<td><p>R17</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ1_TRIG</p></td>
<td><p>LALU.q</p></td>
<td><p>Active-high. Triggers IRQ1 (Status).</p></td>
</tr><tr>
<td><p>R18</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ2_ACK</p></td>
<td><p>LESA.in</p></td>
<td><p>Active-high. Acknowledges IRQ2 (Timer).</p></td>
</tr><tr>
<td><p>R19</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ2_TRIG</p></td>
<td><p>NYBO.q</p></td>
<td><p>Active-high. Triggers IRQ2 (Timer).</p></td>
</tr><tr>
<td><p>R20</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ3_ACK</p></td>
<td><p>LUFE.in</p></td>
<td><p>Active-high. Acknowledges IRQ3 (Serial).</p></td>
</tr><tr>
<td><p>R21</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ3_TRIG</p></td>
<td><p>UBUL.q</p></td>
<td><p>Active-high. Triggers IRQ3 (Serial).</p></td>
</tr><tr>
<td><p>R22</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ4_ACK</p></td>
<td><p>LAMO.in</p></td>
<td><p>Active-high. Acknowledges IRQ4 (Joypad).</p></td>
</tr><tr>
<td><p>R23</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ4_TRIG</p></td>
<td><p>ULAK.q</p></td>
<td><p>Active-high. Triggers IRQ4 (Joypad).</p></td>
</tr><tr>
<td><p>R24</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ5_ACK</p></td>
<td><p>-</p></td>
<td><p>Active-high. Acknowledges IRQ5. Not connected.</p></td>
</tr><tr>
<td><p>R25</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ5_TRIG</p></td>
<td><p>GND</p></td>
<td><p>Active-high. Triggers IRQ5. Hardwired to GND.</p></td>
</tr><tr>
<td><p>R26</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ6_ACK</p></td>
<td><p>-</p></td>
<td><p>Active-high. Acknowledges IRQ6. Not connected.</p></td>
</tr><tr>
<td><p>R27</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ6_TRIG</p></td>
<td><p>GND</p></td>
<td><p>Active-high. Triggers IRQ6. Hardwired to GND.</p></td>
</tr><tr>
<td><p>R28</p></td>
<td><p>O</p></td>
<td><p>CPU_IRQ7_ACK</p></td>
<td><p>-</p></td>
<td><p>Active-high. Acknowledges IRQ7. Not connected.</p></td>
</tr><tr>
<td><p>R29</p></td>
<td><p>I</p></td>
<td><p>CPU_IRQ7_TRIG</p></td>
<td><p>GND</p></td>
<td><p>Active-high. Triggers IRQ7. Hardwired to GND.</p></td>
</tr><tr>
<td><p>B1</p></td>
<td><p>I/O</p></td>
<td><p>D0</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D0.</p></td>
</tr><tr>
<td><p>B2</p></td>
<td><p>I/O</p></td>
<td><p>D1</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D1.</p></td>
</tr><tr>
<td><p>B3</p></td>
<td><p>I/O</p></td>
<td><p>D2</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D2.</p></td>
</tr><tr>
<td><p>B4</p></td>
<td><p>I/O</p></td>
<td><p>D3</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D3.</p></td>
</tr><tr>
<td><p>B5</p></td>
<td><p>I/O</p></td>
<td><p>D4</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D4.</p></td>
</tr><tr>
<td><p>B6</p></td>
<td><p>I/O</p></td>
<td><p>D5</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D5.</p></td>
</tr><tr>
<td><p>B7</p></td>
<td><p>I/O</p></td>
<td><p>D6</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D6.</p></td>
</tr><tr>
<td><p>B8</p></td>
<td><p>I/O</p></td>
<td><p>D7</p></td>
<td><p>multiple</p></td>
<td><p>Data bus D7.</p></td>
</tr><tr>
<td><p>B9</p></td>
<td><p>O</p></td>
<td><p>A15</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A15.</p></td>
</tr><tr>
<td><p>B10</p></td>
<td><p>O</p></td>
<td><p>A14</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A14.</p></td>
</tr><tr>
<td><p>B11</p></td>
<td><p>O</p></td>
<td><p>A13</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A13.</p></td>
</tr><tr>
<td><p>B12</p></td>
<td><p>O</p></td>
<td><p>A12</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A12.</p></td>
</tr><tr>
<td><p>B13</p></td>
<td><p>O</p></td>
<td><p>A11</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A11.</p></td>
</tr><tr>
<td><p>B14</p></td>
<td><p>O</p></td>
<td><p>A10</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A10.</p></td>
</tr><tr>
<td><p>B15</p></td>
<td><p>O</p></td>
<td><p>A9</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A9.</p></td>
</tr><tr>
<td><p>B16</p></td>
<td><p>O</p></td>
<td><p>A8</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A8.</p></td>
</tr><tr>
<td><p>B17</p></td>
<td><p>O</p></td>
<td><p>A7</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A7.</p></td>
</tr><tr>
<td><p>B18</p></td>
<td><p>O</p></td>
<td><p>A6</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A6.</p></td>
</tr><tr>
<td><p>B19</p></td>
<td><p>O</p></td>
<td><p>A5</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A5.</p></td>
</tr><tr>
<td><p>B20</p></td>
<td><p>O</p></td>
<td><p>A4</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A4.</p></td>
</tr><tr>
<td><p>B21</p></td>
<td><p>O</p></td>
<td><p>A3</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A3.</p></td>
</tr><tr>
<td><p>B22</p></td>
<td><p>O</p></td>
<td><p>A2</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A2.</p></td>
</tr><tr>
<td><p>B23</p></td>
<td><p>O</p></td>
<td><p>A1</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A1.</p></td>
</tr><tr>
<td><p>B24</p></td>
<td><p>O</p></td>
<td><p>A0</p></td>
<td><p>multiple</p></td>
<td><p>Address bus A0.</p></td>
</tr><tr>
<td><p>B25</p></td>
<td><p>I</p></td>
<td><p>TO_CPU2</p></td>
<td><p>AWOB.q</p></td>
<td><p>Wakes CPU from STOP mode.</p></td>
</tr></table></p>
<hr>
<p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
</body>
</html>
